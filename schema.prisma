// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource sqlite {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "sqlite"
}

generator client {
  provider = "prisma-client-js"
}

model MainBanner {
  id    Int    @id
  texto String @default("")
  link  String @default("")
}

model MainHeader {
  id    Int          @id
  itens HeaderItem[] @relation("MainHeader_itens")
}

model HeaderItem {
  id                    String          @id @default(cuid())
  texto                 String          @default("")
  link                  String          @default("")
  subItens              HeaderSubItem[] @relation("HeaderItem_subItens")
  from_MainHeader_itens MainHeader[]    @relation("MainHeader_itens")
}

model HeaderSubItem {
  id                       String       @id @default(cuid())
  texto                    String       @default("")
  link                     String       @default("")
  from_HeaderItem_subItens HeaderItem[] @relation("HeaderItem_subItens")
}

model Usuario {
  id       String    @id @default(cuid())
  nome     String    @default("")
  email    String    @unique @default("")
  senha    String
  cargo    Cargo?    @relation("Usuario_cargo", fields: [cargoId], references: [id])
  cargoId  String?   @map("cargo")
  criadoEm DateTime? @default(now())

  @@index([cargoId])
}

model Cargo {
  id                          String    @id @default(cuid())
  nome                        String    @default("")
  admin                       Boolean   @default(false)
  podeAdministrarUsuarios     Boolean   @default(false)
  podeAdministrarConteudo     Boolean   @default(false)
  podeAdministrarDadosBasicos Boolean   @default(false)
  usuarios                    Usuario[] @relation("Usuario_cargo")
}

model DadoBasico {
  id             Int     @id
  telefone       String  @default("")
  logo_filesize  Int?
  logo_extension String?
  logo_width     Int?
  logo_height    Int?
  logo_id        String?
}

model PaginaInicial {
  id       String @id @default(cuid())
  conteudo String @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
}
